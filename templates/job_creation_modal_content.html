<form id="job-creation-form" hx-post="{{ url_for('job.create_job') }}"
      hx-target="#job-list"
      hx-swap="innerHTML"
      hx-on--after-request="if(event.detail.successful) { document.getElementById('job-creation-modal').style.display='none'; document.getElementById('job-creation-form').reset(); }">
    <h2>Create New Job</h2>

    <label for="property_address">Property Address:</label>
    <input type="text" id="property_address" name="property_address" required>

    <label for="date">Date:</label>
    <input type="text" id="date" name="date" required>

    <label for="time">Time:</label>
    <input type="time" id="time" name="time" required>

    <label for="duration">Duration (hours):</label>
    <input type="number" id="duration" name="duration" step="0.5" required>

    <label for="assigned_teams">Assigned Teams:</label>
    <select id="assigned_teams" name="assigned_teams" multiple>
        {% for team in teams %}
            <option value="{{ team.id }}">{{ team.name }}</option>
        {% endfor %}
    </select>
    <label for="assigned_cleaners">Assigned Cleaners:</label>
    <select id="assigned_cleaners" name="assigned_fcleaners" multiple>
        {% for user in users %}
            <option value="{{ user.id }}">{{ user.username }}</option>
        {% endfor %}
    </select>

    <label for="notes">Notes:</label>
    <textarea id="notes" name="notes"></textarea>
    
    <input type="hidden" name="selected_date" value="{{ selected_date }}">
    <button type="submit" class="button">Create Job</button>
    <button type="button" class="button" onclick="document.getElementById('job-creation-modal').style.display='none'">Cancel</button>
</form>