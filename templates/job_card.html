<div data-view-type="{{ view_type }}" class="job-card
{% if job.description %}red-outline
{% endif %} 
{% if job.arrival_datetime and job.arrival_datetime.date() == job.date %}arrival-same-day
{% elif job.arrival_datetime and (job.arrival_datetime.date() - job.date).days == 1 %}arrival-next-day
{% endif %}" id="job-{{ job.id }}" data-job-id="{{ job.id }}">
    <span class="job-close-button small-icon close-button" data-job-id="{{ job.id }}"
    hx-delete="/jobs/job/{{ job.id }}/delete"
    {% if view_type == 'team' %}
    hx-target="#team-columns-container"
    hx-swap="outerHTML"
    {% else %}
    hx-target="#job-list"
    hx-swap="outerHTML"
    {% endif %}
    hx-vals='{"view_type": "{{ view_type }}"}'
    hx-confirm="Are you sure you want to delete this job? This action cannot be undone."
    style="cursor: pointer">&times;</span>
    
    <div class="job-card-details">
        <div class="job-info">
            <p><strong>Time:</strong> {{ job.time.strftime(DATETIME_FORMATS['TIME_FORMAT']) }}</p>
            <p><strong>Ends:</strong> {{ job.end_time.strftime(DATETIME_FORMATS['TIME_FORMAT']) }} ({{ job.duration }})</p>
            <p><strong>Property Address:</strong> {{ job.property.address }}</p>
        </div>
        <div class="job-status-actions">
            {% include "job_actions_fragment.html" with context %}
            <div class="job-statuses">
                {% include 'job_status_fragment.html' %}
                {% if job.arrival_datetime and job.arrival_datetime.date() == job.date %}
                <div class="job-status-badge red">Same Day Arrival</div>
                {% elif job.arrival_datetime and (job.arrival_datetime.date() - job.date).days == 1 %}
                <div class="job-status-badge yellow">Next Day Arrival</div>
                {% endif %}
                {% if job.description %}
                <div class="job-status-badge red">See Notes</div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

