{% from 'card_actions.html' import render_card_actions %}

<div class="property-card" id="property-card-{{ property.id }}" data-id="{{ property.id }}">
    <h3>{{ property.address }}</h3>
    <p><strong>Address:</strong> {{ property.address }}</p>
    <p><strong>Access Notes:</strong> {{ property.access_notes if property.access_notes else "N/A" }}</p>
    <p><strong>Additional Notes:</strong> {{ property.notes if property.notes else "N/A" }}</p>
    {{ render_card_actions([
        {
            'label': 'Edit',
            'icon_name': 'pencil-solid-full',
            'class': 'edit-button',
            'htmx_attrs': {
                'hx-get': url_for('properties.update_property_route', property_id=property.id),
                'hx-target': '#property-modal-content',
                'hx-trigger': 'click',
                'hx-on--after-request': "document.getElementById('property-modal').style.display='block'"
            }
        },
        {
            'label': 'View Jobs',
            'icon_name': 'clipboard-list-solid-full',
            'class': 'view-jobs-button',
            'htmx_attrs': {
                'hx-get': url_for('properties.get_property_jobs_route', property_id=property.id),
                'hx-target': '#property-modal-content',
                'hx-trigger': 'click',
                'hx-on--after-request': "document.getElementById('property-modal').style.display='block'"
            }
        },
        {
            'label': 'Gallery',
            'icon_name': 'gallery',
            'class': 'gallery-button',
            'onclick': "ENHANCED_GALLERY.open({type: 'property', id: {{ property.id }}})"
        },
        {
            'label': 'Delete',
            'icon_name': 'trash-can-solid-full',
            'type': 'delete',
            'htmx_attrs': {
                'hx-delete': url_for('properties.delete_property_route', property_id=property.id),
                'hx-target': '#property-list',
                'hx-swap': 'innerHTML',
                'hx-confirm': 'Are you sure you want to delete this property? This action cannot be undone.'
            }
        }
    ]) }}
</div>
