<div class="job-card" id="job-{{ job.id }}">
    <h2>{{ job.job_title }}</h2>
    <p><strong>Time:</strong> {{ job.time.strftime('%H:%M') }}</p>
    <p><strong>Duration:</strong> {{ job.duration }}</p>
    <p><strong>Status:</strong> <span id="job-status-{{ job.id }}">{{ job.status }}</span></p>
    <p><strong>Property Address:</strong> {{ job.property.address }}</p>

    <div class="job-actions">
        <button hx-post="{{ url_for('job.update_job_status', job_id=job.id) }}"
                hx-vals='{"status": "in progress"}'
                hx-target="#job-status-{{ job.id }}"
                hx-swap="outerHTML"
                class="button"
                {% if job.status == 'in progress' or job.status == 'completed' %}disabled{% endif %}>
            Mark In Progress
        </button>
        <button hx-post="{{ url_for('job.update_job_status', job_id=job.id) }}"
                hx-vals='{"status": "completed"}'
                hx-target="#job-status-{{ job.id }}"
                hx-swap="outerHTML"
                class="button"
                {% if job.status == 'completed' %}disabled{% endif %}>
            Mark Completed
        </button>
        <button hx-get="{{ url_for('job.get_job_details', job_id=job.id) }}"
                hx-target="#job-details-modal-content"
                hx-trigger="click"
                hx-on--after-request="document.getElementById('job-details-modal').style.display='block'"
                class="button">
            View Details
        </button>
    </div>
</div>